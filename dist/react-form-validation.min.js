/*!
 * romagny13-react-form-validation v0.1.10
 * (c) 2017 romagny13
 * Released under the MIT License.
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],r):r(e.ReactFormValidation=e.ReactFormValidation||{},e.React)}(this,function(e,r){"use strict";function t(e){return void 0===e}function s(e){return void 0!==e}function n(e){return"string"==typeof e}function o(e){return"number"==typeof e}function a(e){return"boolean"==typeof e}function i(e){return"function"==typeof e}function u(e,r){e&&r&&r.focus()}function p(e){return Object.keys(e).length}function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};for(var s in e)e.hasOwnProperty(s)&&-1===r.indexOf(s)&&(t[s]=e[s]);return t}function h(e){return null===e||t(e)||""===e||a(e)&&!1===e}function l(e,r,t){return e.replace(r,t)}function f(e,r,t){return e.length>0&&(!0===t||r&&r.submitted)}function m(e,r,t){return e.length>0&&!t&&r&&"touched"===r.mode}function d(e,r,t,s,n,o,a){if(e){var i=t&&""!==t?t+" "+s:s;return o&&(i+=" "+a),i}if(r){var u=t&&""!==t?t+" "+n:n;return o&&(u+=" "+a),u}return t}function y(e){var r=e.tagName;return"INPUT"===r?"checkbox"===e.type?"on"!==e.value?e.value:e.checked:e.value:"TEXTAREA"===r?e.value:"SELECT"===r?e.options[e.selectedIndex].value:void 0}function g(e,r){var t=!1,s={},n="";return r.forEach(function(r){var n=r(e);n&&(t=!0,s[n.name]=n.error)}),t&&(n=v(s)),{hasError:t,firstError:n,errors:s}}function v(e){return e[Object.keys(e)[0]]}function C(e,r,t){var s=e.hasError,n=e.firstError;return r!==s||t!==n}function b(e,r){return!(!e||!e.showHasSuccess)&&(e.submitted||r)}function k(e){return e&&p(e)>0?{hasError:!0,hasSuccess:!1,firstError:v(e),errors:e}:{hasError:!1,hasSuccess:!1,firstError:"",errors:{}}}function T(e){var r={},t={},s=!1;return e.forEach(function(e){var n=e.validate();if(n){var o=n.name,a=n.hasError,i=n.firstError,u=n.value;r[o]={hasError:a,firstError:i},t[o]=u,a&&(s=!0)}}),{hasError:s,formStates:r,formModel:t}}function P(e){return s(e)?e:""}r="default"in r?r.default:r;var E=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"required",t=n(e)?e:"This field is required.";return function(e){if(h(e))return{name:r,error:t}}},N=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minLength",s=o(e)?e:3,a=n(r)?r:l("Please enter at least than {0} characters.","{0}",s);return function(e){if(!h(e)&&e.length<s)return{name:t,error:a}}},x=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"maxLength",s=o(e)?e:30,a=n(r)?r:l("Please enter no more than {0} characters.","{0}",s);return function(e){if(!h(e)&&e.length>s)return{name:t,error:a}}},S=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pattern",s=n(r)?r:"Please fix this field.";return function(r){if(!h(r)&&!e.test(r))return{name:t,error:s}}},O=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"custom",s=n(r)?r:"Please fix this field.";return function(r){if(!h(r)&&!e(r))return{name:t,error:s}}},_=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),w=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},G=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},j=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},R=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state=k(e.errors),n.hasErrorClassName=n.context.form&&n.context.form.hasErrorClassName||"has-error",n.hasSuccessClassName=n.context.form&&n.context.form.hasSuccessClassName||"has-success",n.showHasFeedback=n.context.form&&n.context.form.showHasFeedback,n.hasFeedbackClassName=n.context.form&&n.context.form.hasFeedbackClassName||"has-feedback",n.hasErrorFeedbackClassName=n.context.form&&n.context.form.hasErrorFeedbackClassName||"glyphicon glyphicon-remove form-control-feedback",n.hasSuccessFeedbackClassName=n.context.form&&n.context.form.hasSuccessFeedbackClassName||"glyphicon glyphicon-ok form-control-feedback",n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),s(n.context.form)&&n.context.form.register(n),n}return G(t,e),F(t,[{key:"getChildContext",value:function(){return{formGroup:this}}},{key:"componentWillReceiveProps",value:function(e){if(e.errors){var r=e.errors,t=p(r)>0,s=t?v(r):"";this.setState({hasError:t,firstError:s,errors:r})}}},{key:"register",value:function(e,r){this.formElement=r}},{key:"validate",value:function(){if(this.formElement){var e=this.formElement.getName(),r=this.formElement.getValue(),t=g(r,this.props.validators),s=t.hasError,n=t.firstError,o=t.errors;return this.setState({hasError:s,hasSuccess:!s,firstError:n,errors:o}),{name:e,value:r,hasError:s,firstError:n,errors:o}}}},{key:"_validateOnChange",value:function(e){var r=y(e.target),t=g(r,this.props.validators),s=t.hasError,n=t.firstError,o=t.errors;C(this.state,s,n)&&(this.setState({hasError:s,hasSuccess:!s,firstError:n,errors:o}),this.touched||(this.touched=!0),i(this.props.onChange)&&this.props.onChange(e.target.name,r,s,n,o))}},{key:"onChange",value:function(e){f(this.props.validators,this.context.form,this.touched)&&this._validateOnChange(e)}},{key:"onBlur",value:function(e){m(this.props.validators,this.context.form,this.touched)&&this._validateOnChange(e)}},{key:"render",value:function(){var e=b(this.context.form,this.touched),t=d(this.state.hasError,e,this.props.className,this.hasErrorClassName,this.hasSuccessClassName,this.showHasFeedback,this.hasFeedbackClassName);return r.createElement("div",{className:t,onChange:this.onChange,onBlur:this.onBlur},this.props.children,this.showHasFeedback&&this.state.hasError&&r.createElement("span",{className:this.hasErrorFeedbackClassName,"aria-hidden":"true"}),this.showHasFeedback&&e&&this.state.hasSuccess&&r.createElement("span",{className:this.hasSuccessFeedbackClassName,"aria-hidden":"true"}),this.state.hasError?r.createElement("span",{className:"help-block"},this.state.firstError):null)}}]),t}(r.Component);R.propTypes={validators:r.PropTypes.array,children:r.PropTypes.node,onChange:r.PropTypes.func,className:r.PropTypes.string,errors:r.PropTypes.object},R.defaultProps={validators:[]},R.contextTypes={form:r.PropTypes.any},R.childContextTypes={formGroup:r.PropTypes.any};var H=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state={checked:e.checked},n.onChange=n.onChange.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"componentDidMount",value:function(){u(this.props.focus,this.refs[this.props.name])}},{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.checked}},{key:"onChange",value:function(e){var r=e.target.checked;this.setState({checked:r}),i(this.props.onChange)&&this.props.onChange(this.props.name,r)}},{key:"render",value:function(){return r.createElement("input",{ref:this.props.name,type:"checkbox",id:this.props.id,name:this.props.name,checked:this.state.checked,onChange:this.onChange,className:this.props.className})}}]),t}(r.Component);H.propTypes={id:r.PropTypes.string,name:r.PropTypes.string.isRequired,className:r.PropTypes.string,onChange:r.PropTypes.func,checked:r.PropTypes.bool,focus:r.PropTypes.bool},H.defaultProps={checked:!1},H.contextTypes={formGroup:r.PropTypes.instanceOf(R)};var q=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state={currents:e.currents},n.onChange=n.onChange.bind(n),n.indexOf=n.indexOf.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.currents}},{key:"indexOf",value:function(e){for(var r=this.props.currents,t=0;t<r.length;t++)if(r[t]===e)return t;return-1}},{key:"onChange",value:function(e){var r=e.target.value,t=this.indexOf(r),s=this.state.currents;-1!==t?s.splice(t,1):s.push(r),this.setState({currents:s}),i(this.props.onChange)&&this.props.onChange(this.props.name,s)}},{key:"render",value:function(){var e=this;return r.createElement("div",null,this.props.dataSource.map(function(t,s){return r.createElement("div",{key:s},r.createElement("input",{type:"checkbox",name:e.props.name,checked:-1!==e.indexOf(t),value:t,onChange:e.onChange,className:e.props.className}),t)}))}}]),t}(r.Component);q.propTypes={name:r.PropTypes.string.isRequired,className:r.PropTypes.string,onChange:r.PropTypes.func,dataSource:r.PropTypes.array.isRequired,currents:r.PropTypes.array},q.defaultProps={currents:[]},q.contextTypes={formGroup:r.PropTypes.instanceOf(R)};var V=function(e){function t(e){_(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.formGroups=[],r.submitted=!1,r.onSubmit=r.onSubmit.bind(r),r}return G(t,e),F(t,[{key:"getChildContext",value:function(){return{form:this}}},{key:"register",value:function(e){this.formGroups.push(e)}},{key:"onSubmit",value:function(e){e.preventDefault();var r=T(this.formGroups),t=r.hasError,s=r.formStates,n=r.formModel;this.submitted=!0,this.props.onSubmit(t,s,n)}},{key:"render",value:function(){var e=c(this.props,["onSubmit","mode","showHasSuccess","hasErrorClassName","hasSuccessClassName","showHasFeedback","hasFeedbackClassName","hasErrorFeedbackClassName","hasSuccessFeedbackClassName"]);return r.createElement("form",w({onSubmit:this.onSubmit},e),this.props.children)}},{key:"mode",get:function(){return this.props.mode}},{key:"showHasSuccess",get:function(){return this.props.showHasSuccess}},{key:"showHasFeedback",get:function(){return this.props.showHasFeedback}},{key:"hasFeedbackClassName",get:function(){return this.props.hasFeedbackClassName}},{key:"hasErrorClassName",get:function(){return this.props.hasErrorClassName}},{key:"hasSuccessClassName",get:function(){return this.props.hasSuccessClassName}},{key:"hasErrorFeedbackClassName",get:function(){return this.props.hasErrorFeedbackClassName}},{key:"hasSuccessFeedbackClassName",get:function(){return this.props.hasSuccessFeedbackClassName}}]),t}(r.Component);V.propTypes={mode:r.PropTypes.oneOf(["submit","touched"]),onSubmit:r.PropTypes.func.isRequired,children:r.PropTypes.node,showHasSuccess:r.PropTypes.bool,showHasFeedback:r.PropTypes.bool,hasErrorClassName:r.PropTypes.string,hasSuccessClassName:r.PropTypes.string,hasFeedbackClassName:r.PropTypes.string,hasErrorFeedbackClassName:r.PropTypes.string,hasSuccessFeedbackClassName:r.PropTypes.string},V.defaultProps={mode:"submit",showHasSuccess:!1,showHasFeedback:!1,hasErrorClassName:"has-error",hasSuccessClassName:"has-success",hasFeedbackClassName:"has-feedback",hasErrorFeedbackClassName:"glyphicon glyphicon-remove form-control-feedback",hasSuccessFeedbackClassName:"glyphicon glyphicon-ok form-control-feedback"},V.childContextTypes={form:r.PropTypes.any};var M=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r)),o=P(e.value);return n.state={value:o},n.onChange=n.onChange.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"componentDidMount",value:function(){u(this.props.focus,this.refs[this.props.name])}},{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.value}},{key:"onChange",value:function(e){var r=e.target.value;this.setState({value:r}),i(this.props.onChange)&&this.props.onChange(this.props.name,r)}},{key:"render",value:function(){return r.createElement("input",{ref:this.props.name,type:this.props.type,id:this.props.id,name:this.props.name,value:this.state.value,onChange:this.onChange,className:this.props.className,placeholder:this.props.placeholder})}}]),t}(r.Component);M.propTypes={id:r.PropTypes.string,name:r.PropTypes.string.isRequired,className:r.PropTypes.string,onChange:r.PropTypes.func,type:r.PropTypes.string,value:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),placeholder:r.PropTypes.string,focus:r.PropTypes.bool},M.defaultProps={type:"text"},M.contextTypes={formGroup:r.PropTypes.instanceOf(R)};var B=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state={current:e.current},n.onChange=n.onChange.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.current}},{key:"onChange",value:function(e){var r=e.target.value;this.setState({current:r}),i(this.props.onChange)&&this.props.onChange(this.props.name,r)}},{key:"render",value:function(){var e=this;return r.createElement("div",null,this.props.dataSource.map(function(t,s){return r.createElement("div",{key:s},r.createElement("input",{type:"radio",name:e.props.name,checked:e.state.current===t,value:t,onChange:e.onChange,className:e.props.className}),t)}))}}]),t}(r.Component);B.propTypes={name:r.PropTypes.string.isRequired,className:r.PropTypes.string,onChange:r.PropTypes.func,dataSource:r.PropTypes.array.isRequired,current:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool])},B.contextTypes={formGroup:r.PropTypes.instanceOf(R)};var D=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state={current:e.current},n.onChange=n.onChange.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"componentDidMount",value:function(){u(this.props.focus,this.refs[this.props.name])}},{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.current}},{key:"onChange",value:function(e){var r=e.target.options[e.target.selectedIndex].value;this.setState({current:r}),i(this.props.onChange)&&this.props.onChange(this.props.name,r)}},{key:"render",value:function(){var e=this;return r.createElement("select",{ref:this.props.name,id:this.props.id,name:this.props.name,value:this.state.current,onChange:this.onChange,className:this.props.className},this.props.dataSource.map(function(t,s){return r.createElement("option",{key:s,value:t,onChange:e.onChange},t)}))}}]),t}(r.Component);D.propTypes={id:r.PropTypes.string,name:r.PropTypes.string.isRequired,className:r.PropTypes.string,onChange:r.PropTypes.func,dataSource:r.PropTypes.array.isRequired,current:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),focus:r.PropTypes.bool},D.contextTypes={formGroup:r.PropTypes.instanceOf(R)};var L=function(e){function t(e,r){_(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.state={value:e.value},n.onChange=n.onChange.bind(n),s(n.context.formGroup)&&n.context.formGroup.register(n.props.name,n),n}return G(t,e),F(t,[{key:"componentDidMount",value:function(){u(this.props.focus,this.refs[this.props.name])}},{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.value}},{key:"onChange",value:function(e){var r=e.target.value;this.setState({value:r}),i(this.props.onChange)&&this.props.onChange(this.props.name,r)}},{key:"render",value:function(){var e=c(this.props,["value","onChange","focus"]);return r.createElement("textarea",w({ref:this.props.name,value:this.state.value,onChange:this.onChange},e))}}]),t}(r.Component);L.propTypes={name:r.PropTypes.string.isRequired,onChange:r.PropTypes.func,value:r.PropTypes.string,focus:r.PropTypes.bool},L.defaultProps={value:""},L.contextTypes={formGroup:r.PropTypes.instanceOf(R)},e.required=E,e.minLength=N,e.maxLength=x,e.pattern=S,e.custom=O,e.isRequired=h,e.Checkbox=H,e.CheckboxGroup=q,e.Form=V,e.FormGroup=R,e.validateValue=g,e.Input=M,e.RadioGroup=B,e.Select=D,e.TextArea=L,Object.defineProperty(e,"__esModule",{value:!0})});