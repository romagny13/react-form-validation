/*!
 * romagny13-react-form-validation v0.1.7
 * (c) 2017 romagny13
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.ReactFormValidation=e.ReactFormValidation||{},e.React)}(this,function(e,t){"use strict";function r(e){return void 0===e}function n(e){return void 0!==e}function o(e){return"string"==typeof e}function s(e){return"number"==typeof e}function a(e){return"boolean"==typeof e}function i(e){return"function"==typeof e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={};for(var n in e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}function p(e){return null===e||r(e)||""===e||a(e)&&!1===e}function h(e,t,r){return e.replace(t,r)}function c(e,t,r){return e.length>0&&(!0===r||t&&t.submitted)}function l(e,t,r){return!r&&e.length>0&&t&&"touched"===t.mode}function f(e,t){return e?t+" has-error":t}function m(e){var t=e.tagName;return"INPUT"===t?"checkbox"===e.type?"on"!==e.value?e.value:e.checked:e.value:"TEXTAREA"===t?e.value:"SELECT"===t?e.options[e.selectedIndex].value:void 0}function y(e,t){var r=!1,n={},o="";return t.forEach(function(t){t.validate(e)||(r=!0,n[t.name]=t.error)}),r&&(o=d(n)),{hasError:r,firstError:o,errors:n}}function d(e){return e[Object.keys(e)[0]]}function g(e,t,r){var n=e.hasError,o=e.firstError;return t!==n||r!==o}function v(e){var t={},r={},n=!1;return e.forEach(function(e){var o=e.validate(),s=o.name,a=o.hasError,i=o.firstError,u=o.value;t[s]={hasError:a,firstError:i},r[s]=u,a&&(n=!0)}),{hasError:n,formStates:t,formModel:r}}function T(e,t){return n(t)?t:""}t="default"in t?t.default:t;var P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},E=function(){function e(t){P(this,e),this.name="required",this.message=o(t)?t:"This field is required."}return C(e,[{key:"validate",value:function(e){return p(e)?(this.error=this.message,!1):(this.error=void 0,!0)}}]),e}(),O=function(){function e(t,r){P(this,e),this.name="minLength",this.minLength=s(t)?t:3,this.message=o(r)?r:h("Please enter at least than {0} characters.","{0}",t)}return C(e,[{key:"validate",value:function(e){return!p(e)&&e.length<this.minLength?(this.error=this.message,!1):(this.error=void 0,!0)}}]),e}(),_=function(){function e(t,r){P(this,e),this.name="maxLength",this.maxLength=s(t)?t:30,this.message=o(r)?r:h("Please enter no more than {0} characters.","{0}",t)}return C(e,[{key:"validate",value:function(e){return!p(e)&&e.length>this.maxLength?(this.error=this.message,!1):(this.error=void 0,!0)}}]),e}(),N=function(){function e(t,r){P(this,e),this.name=o(name)?name:"pattern",this.pattern=t,this.message=o(r)?r:"Please fix this field."}return C(e,[{key:"validate",value:function(e){return p(e)||this.pattern.test(e)?(this.error=void 0,!0):(this.error=this.message,!1)}}]),e}(),S=function(){function e(t,r,n){P(this,e),this.fn=t,this.name=o(n)?n:"custom",this.message=o(r)?r:"Please fix this field."}return C(e,[{key:"validate",value:function(e){return p(e)||this.fn(e)?(this.error=void 0,!0):(this.error=this.message,!1)}}]),e}(),G=function(){function e(){P(this,e)}return C(e,null,[{key:"required",value:function(e){return new E(e)}},{key:"minLength",value:function(e,t){return new O(e,t)}},{key:"maxLength",value:function(e,t){return new _(e,t)}},{key:"pattern",value:function(e,t,r){return new N(e,t,r)}},{key:"custom",value:function(e,t,r){return new S(e,t,r)}}]),e}(),j=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={hasError:!1,firstError:"",errors:{}},o.onChange=o.onChange.bind(o),o.onBlur=o.onBlur.bind(o),n(o.context.form)&&o.context.form.register(o),o}return b(r,e),C(r,[{key:"getChildContext",value:function(){return{formGroup:this}}},{key:"register",value:function(e,t){this.formElement=t}},{key:"validate",value:function(){if(!this.formElement)throw new Error("No form element registered for the group.");var e=this.formElement.getName(),t=this.formElement.getValue(),r=y(t,this.props.validators),n=r.hasError,o=r.firstError,s=r.errors;return this.setState({hasError:n,firstError:o,errors:s}),{name:e,value:t,hasError:n,firstError:o,errors:s}}},{key:"_validateOnChange",value:function(e){var t=m(e.target),r=y(t,this.props.validators),n=r.hasError,o=r.firstError,s=r.errors;g(this.state,n,o)&&(this.setState({hasError:n,firstError:o,errors:s}),this.touched=!0,i(this.props.onChange)&&this.props.onChange(e.target.name,t))}},{key:"onChange",value:function(e){c(this.props.validators,this.context.form,this.touched)&&this._validateOnChange(e)}},{key:"onBlur",value:function(e){l(this.props.validators,this.context.form,this.touched)&&this._validateOnChange(e)}},{key:"render",value:function(){var e=f(this.state.hasError,this.props.className);return t.createElement("div",{className:e,onChange:this.onChange,onBlur:this.onBlur},this.props.children,this.state.hasError?t.createElement("span",{className:"help-block"},this.state.firstError):null)}}]),r}(t.Component);j.propTypes={validators:t.PropTypes.array,children:t.PropTypes.node,onChange:t.PropTypes.func,className:t.PropTypes.string},j.defaultProps={validators:[]},j.contextTypes={form:t.PropTypes.any},j.childContextTypes={formGroup:t.PropTypes.any};var w=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={checked:e.checked},o.onChange=o.onChange.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.checked}},{key:"onChange",value:function(e){var t=e.target.checked;this.setState({checked:t}),i(this.props.onChange)&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){return t.createElement("input",{type:"checkbox",id:this.props.id,name:this.props.name,checked:this.state.checked,onChange:this.onChange,className:this.props.className})}}]),r}(t.Component);w.propTypes={id:t.PropTypes.string,name:t.PropTypes.string.isRequired,className:t.PropTypes.string,onChange:t.PropTypes.func,checked:t.PropTypes.bool},w.defaultProps={checked:!1},w.contextTypes={formGroup:t.PropTypes.instanceOf(j)};var R=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={currents:e.currents},o.onChange=o.onChange.bind(o),o.indexOf=o.indexOf.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.currents}},{key:"indexOf",value:function(e){for(var t=this.props.currents,r=0;r<t.length;r++)if(t[r]===e)return r;return-1}},{key:"onChange",value:function(e){var t=e.target.value,r=this.indexOf(t),n=this.state.currents;-1!==r?n.splice(r,1):n.push(t),this.setState({currents:n}),i(this.props.onChange)&&this.props.onChange(this.props.name,n)}},{key:"render",value:function(){var e=this;return t.createElement("div",null,this.props.dataSource.map(function(r,n){return t.createElement("div",{key:n},t.createElement("input",{type:"checkbox",name:e.props.name,checked:-1!==e.indexOf(r),value:r,onChange:e.onChange,className:e.props.className}),r)}))}}]),r}(t.Component);R.propTypes={name:t.PropTypes.string.isRequired,className:t.PropTypes.string,onChange:t.PropTypes.func,dataSource:t.PropTypes.array.isRequired,currents:t.PropTypes.array},R.defaultProps={currents:[]},R.contextTypes={formGroup:t.PropTypes.instanceOf(j)};var V=function(e){function r(e){P(this,r);var t=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.formGroups=[],t.submitted=!1,t.onSubmit=t.onSubmit.bind(t),t}return b(r,e),C(r,[{key:"getChildContext",value:function(){return{form:this}}},{key:"register",value:function(e){this.formGroups.push(e)}},{key:"onSubmit",value:function(e){e.preventDefault();var t=v(this.formGroups),r=t.hasError,n=t.formStates,o=t.formModel;this.submitted=!0,this.props.onSubmit(r,n,o)}},{key:"render",value:function(){var e=u(this.props,["onSubmit","mode"]);return t.createElement("form",k({onSubmit:this.onSubmit},e),this.props.children)}},{key:"mode",get:function(){return this.props.mode}}]),r}(t.Component);V.propTypes={mode:t.PropTypes.oneOf(["submit","touched"]),onSubmit:t.PropTypes.func.isRequired,children:t.PropTypes.node},V.defaultProps={mode:"submit"},V.childContextTypes={form:t.PropTypes.any};var q=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t)),s=T(e.type,e.value);return o.state={value:s},o.onChange=o.onChange.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.value}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t}),i(this.props.onChange)&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){return t.createElement("input",{type:this.props.type,id:this.props.id,name:this.props.name,value:this.state.value,onChange:this.onChange,className:this.props.className,placeholder:this.props.placeholder})}}]),r}(t.Component);q.propTypes={id:t.PropTypes.string,name:t.PropTypes.string.isRequired,className:t.PropTypes.string,onChange:t.PropTypes.func,type:t.PropTypes.string,value:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number,t.PropTypes.bool]),placeholder:t.PropTypes.string},q.defaultProps={type:"text"},q.contextTypes={formGroup:t.PropTypes.instanceOf(j)};var L=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={current:e.current},o.onChange=o.onChange.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.current}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({current:t}),i(this.props.onChange)&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this;return t.createElement("div",null,this.props.dataSource.map(function(r,n){return t.createElement("div",{key:n},t.createElement("input",{type:"radio",name:e.props.name,checked:e.state.current===r,value:r,onChange:e.onChange,className:e.props.className}),r)}))}}]),r}(t.Component);L.propTypes={name:t.PropTypes.string.isRequired,className:t.PropTypes.string,onChange:t.PropTypes.func,dataSource:t.PropTypes.array.isRequired,current:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number,t.PropTypes.bool])},L.contextTypes={formGroup:t.PropTypes.instanceOf(j)};var B=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={current:e.current},o.onChange=o.onChange.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.current}},{key:"onChange",value:function(e){var t=e.target.options[e.target.selectedIndex].value;this.setState({current:t}),i(this.props.onChange)&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this;return t.createElement("select",{id:this.props.id,name:this.props.name,value:this.state.current,onChange:this.onChange,className:this.props.className},this.props.dataSource.map(function(r,n){return t.createElement("option",{key:n,value:r,onChange:e.onChange},r)}))}}]),r}(t.Component);B.propTypes={id:t.PropTypes.string,name:t.PropTypes.string.isRequired,className:t.PropTypes.string,onChange:t.PropTypes.func,dataSource:t.PropTypes.array.isRequired,current:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number,t.PropTypes.bool])},B.contextTypes={formGroup:t.PropTypes.instanceOf(j)};var M=function(e){function r(e,t){P(this,r);var o=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return o.state={value:e.value},o.onChange=o.onChange.bind(o),n(o.context.formGroup)&&o.context.formGroup.register(o.props.name,o),o}return b(r,e),C(r,[{key:"getName",value:function(){return this.props.name}},{key:"getValue",value:function(){return this.state.value}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t}),i(this.props.onChange)&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=u(this.props,["value","onChange"]);return t.createElement("textarea",k({value:this.state.value,onChange:this.onChange},e))}}]),r}(t.Component);M.propTypes={name:t.PropTypes.string.isRequired,onChange:t.PropTypes.func,value:t.PropTypes.string},M.defaultProps={value:""},M.contextTypes={formGroup:t.PropTypes.instanceOf(j)},e.RequiredValidator=E,e.MinLengthValidator=O,e.MaxLengthValidator=_,e.PatternValidator=N,e.CustomValidator=S,e.Validator=G,e.Checkbox=w,e.CheckboxGroup=R,e.Form=V,e.FormGroup=j,e.validateValue=y,e.Input=q,e.RadioGroup=L,e.Select=B,e.TextArea=M,Object.defineProperty(e,"__esModule",{value:!0})});