/*!
 * romagny13-react-form-validation v0.1.5
 * (c) 2017 romagny13
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e(t.ReactFormValidation=t.ReactFormValidation||{},t.React)}(this,function(t,e){"use strict";function r(t){return void 0===t}function o(t){return void 0!==t}function n(t){return"string"==typeof t}function s(t){return"number"==typeof t}function p(t){return"boolean"==typeof t}function i(t){return"function"==typeof t}function a(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]={hasError:!1,errors:{}});return e}function h(t){var e=t.tagName;return"INPUT"===e?"checkbox"===t.type?"on"!==t.value?t.value:t.checked:t.value:"TEXTAREA"===e?t.value:"SELECT"===e?t.options[t.selectedIndex].value:void 0}function u(t,e){var r={hasError:!1,errors:{}};return e.forEach(function(e){e.validate(t)||(r.hasError=!0,r.errors[e.name]=e.error)}),r}function c(t){return t[Object.keys(t)[0]]}function l(t,e){return o(e)?e:"range"===t||"number"===t?0:""}function f(t){return null===t||r(t)||""===t||p(t)&&t===!1}function m(t,e,r){return t.replace(e,r)}e="default"in e?e.default:e;var y=function(t){this.name="required",this.message=n(t)?t:"This field is required."};y.prototype.validate=function(t){return f(t)?(this.error=this.message,!1):(this.error=void 0,!0)};var d=function(t,e){this.name="minLength",this.minLength=s(t)?t:3,this.message=n(e)?e:m("Please enter at least than {0} characters.","{0}",t)};d.prototype.validate=function(t){return!f(t)&&t.length<this.minLength?(this.error=this.message,!1):(this.error=void 0,!0)};var g=function(t,e){this.name="maxLength",this.maxLength=s(t)?t:30,this.message=n(e)?e:m("Please enter no more than {0} characters.","{0}",t)};g.prototype.validate=function(t){return!f(t)&&t.length>this.maxLength?(this.error=this.message,!1):(this.error=void 0,!0)};var v=function(t,e){this.name=n(name)?name:"pattern",this.pattern=t,this.message=n(e)?e:"Please fix this field."};v.prototype.validate=function(t){return f(t)||this.pattern.test(t)?(this.error=void 0,!0):(this.error=this.message,!1)};var T=function(t,e,r){this.fn=t,this.name=n(r)?r:"custom",this.message=n(e)?e:"Please fix this field."};T.prototype.validate=function(t){return f(t)||this.fn(t)?(this.error=void 0,!0):(this.error=this.message,!1)};var P=function(){};P.required=function(t){return new y(t)},P.minLength=function(t,e){return new d(t,e)},P.maxLength=function(t,e){return new g(t,e)},P.pattern=function(t,e,r){return new v(t,e,r)},P.custom=function(t,e,r){return new T(t,e,r)};var C=function(t){function r(e,r){t.call(this,e,r),this.state={hasError:!1,firstError:""},this.onChange=this.onChange.bind(this),o(this.context.form)&&this.context.form.register(this)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var n={canValidate:{}};return r.prototype.getChildContext=function(){return{formGroup:this}},r.prototype.register=function(t,e){this.formElement=e},n.canValidate.get=function(){return this.props.validators.length>0&&this.context.form.canValidate},r.prototype.validate=function(){var t=this.formElement.getName(),e=this.formElement.getValue(),r=u(e,this.props.validators),o=r.hasError,n=o?c(r.errors):"";return this.setState({hasError:o,firstError:n}),{name:t,hasError:o,firstError:n}},r.prototype.onChange=function(t){if(this.canValidate){var e=this.state.hasError,r=this.state.firstError,o=t.target.name,n=h(t.target),s=u(n,this.props.validators),p=s.hasError,a=p?c(s.errors):"";p===e&&a===r||(this.setState({value:n,hasError:p,firstError:a}),i(this.props.onChange)&&this.props.onChange(o,n))}},r.prototype.render=function(){var t=this.state.hasError?this.props.className+" has-error":this.props.className;return e.createElement("div",{className:t,onChange:this.onChange},this.props.children,this.state.hasError?e.createElement("span",{className:"help-block"},this.state.firstError):null)},Object.defineProperties(r.prototype,n),r}(e.Component);C.propTypes={onChange:e.PropTypes.func,className:e.PropTypes.string,validators:e.PropTypes.array,children:e.PropTypes.node},C.defaultProps={validators:[]},C.contextTypes={form:e.PropTypes.any},C.childContextTypes={formGroup:e.PropTypes.any};var x=function(t){function r(e,r){t.call(this,e,r),this.state={checked:e.checked},this.onChange=this.onChange.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.checked},r.prototype.onChange=function(t){var e=t.target.checked;this.setState({checked:e}),this.props.onChange(this.props.name,e)},r.prototype.render=function(){return e.createElement("input",{type:"checkbox",id:this.props.id,name:this.props.name,checked:this.state.checked,onChange:this.onChange,className:this.props.className})},r}(e.Component);x.propTypes={id:e.PropTypes.string,name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,checked:e.PropTypes.bool},x.defaultProps={checked:!1},x.contextTypes={formGroup:e.PropTypes.instanceOf(C)};var b=function(t){function r(e,r){t.call(this,e,r),this.state={currents:e.currents},this.onChange=this.onChange.bind(this),this.indexOf=this.indexOf.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.currents},r.prototype.indexOf=function(t){for(var e=this.props.currents,r=0;r<e.length;r++)if(e[r]===t)return r;return-1},r.prototype.onChange=function(t){var e=t.target.value,r=this.indexOf(e),o=this.state.currents;r!==-1?o.splice(r,1):o.push(e),this.setState({currents:o}),this.props.onChange(this.props.name,o)},r.prototype.render=function(){var t=this;return e.createElement("div",null,this.props.dataSource.map(function(r,o){return e.createElement("div",{key:o},e.createElement("input",{type:"checkbox",name:t.props.name,checked:t.indexOf(r)!==-1,value:r,onChange:t.onChange,className:t.props.className}),r)}))},r}(e.Component);b.propTypes={name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,dataSource:e.PropTypes.array.isRequired,currents:e.PropTypes.array},b.defaultProps={currents:[]},b.contextTypes={formGroup:e.PropTypes.instanceOf(C)};var E=function(t){function r(e){t.call(this,e),this.formGroups=[],this.submitted=!1,this.onSubmit=this.onSubmit.bind(this)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={canValidate:{}};return r.prototype.getChildContext=function(){return{form:this}},o.canValidate.get=function(){return this.submitted===!0},r.prototype.register=function(t){this.formGroups.push(t)},r.prototype.onSubmit=function(t){t.preventDefault();var e={},r=!1;this.formGroups.forEach(function(t){var o=t.validate();if(o){var n=o.name;e[n]={},e[n].hasError=o.hasError,e[n].firstError=o.firstError,o.hasError&&(r=!0)}}),this.submitted=!0,this.props.onSubmit(r,e)},r.prototype.render=function(){return e.createElement("form",{id:this.props.id,onSubmit:this.onSubmit,autoComplete:this.autoComplete},this.props.children)},Object.defineProperties(r.prototype,o),r}(e.Component);E.propTypes={id:e.PropTypes.string,onSubmit:e.PropTypes.func.isRequired,children:e.PropTypes.node,autoComplete:e.PropTypes.string},E.childContextTypes={form:e.PropTypes.any};var _=function(t){function r(e,r){t.call(this,e,r);var n=l(e.type,e.value);this.state={value:n},this.onChange=this.onChange.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.value},r.prototype.onChange=function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange(this.props.name,e)},r.prototype.render=function(){return e.createElement("input",{type:this.props.type,id:this.props.id,name:this.props.name,value:this.state.value,onChange:this.onChange,className:this.props.className,placeholder:this.props.placeholder})},r}(e.Component);_.propTypes={id:e.PropTypes.string,name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,type:e.PropTypes.string,value:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.number,e.PropTypes.bool]),placeholder:e.PropTypes.string},_.defaultProps={type:"text"},_.contextTypes={formGroup:e.PropTypes.instanceOf(C)};var N=function(t){function r(e,r){t.call(this,e,r),this.state={current:e.current},this.onChange=this.onChange.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.current},r.prototype.onChange=function(t){var e=t.target.value;this.setState({current:e}),this.props.onChange(this.props.name,e)},r.prototype.render=function(){var t=this;return e.createElement("div",null,this.props.dataSource.map(function(r,o){return e.createElement("div",{key:o},e.createElement("input",{type:"radio",name:t.props.name,checked:t.state.current===r,value:r,onChange:t.onChange,className:t.props.className}),r)}))},r}(e.Component);N.propTypes={name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,dataSource:e.PropTypes.array.isRequired,current:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.number,e.PropTypes.bool])},N.contextTypes={formGroup:e.PropTypes.instanceOf(C)};var O=function(t){function r(e,r){t.call(this,e,r),this.state={current:e.current},this.onChange=this.onChange.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.current},r.prototype.onChange=function(t){var e=t.target.options[t.target.selectedIndex].value;this.setState({current:e}),this.props.onChange(this.props.name,e)},r.prototype.render=function(){var t=this;return e.createElement("select",{id:this.props.id,name:this.props.name,value:this.state.current,onChange:this.onChange,className:this.props.className},this.props.dataSource.map(function(r,o){return e.createElement("option",{key:o,value:r,onChange:t.onChange},r)}))},r}(e.Component);O.propTypes={id:e.PropTypes.string,name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,dataSource:e.PropTypes.array.isRequired,current:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.number,e.PropTypes.bool])},O.contextTypes={formGroup:e.PropTypes.instanceOf(C)};var G=function(t){function r(e,r){t.call(this,e,r),this.state={value:e.value},this.onChange=this.onChange.bind(this),o(this.context.formGroup)&&this.context.formGroup.register(this.props.name,this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getName=function(){return this.props.name},r.prototype.getValue=function(){return this.state.value},r.prototype.onChange=function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange(this.props.name,e)},r.prototype.render=function(){return e.createElement("textarea",{id:this.props.id,name:this.props.name,rows:this.props.rows,cols:this.props.cols,value:this.state.value,onChange:this.onChange,className:this.props.className,placeholder:this.props.placeholder})},r}(e.Component);G.propTypes={id:e.PropTypes.string,name:e.PropTypes.string.isRequired,className:e.PropTypes.string,onChange:e.PropTypes.func,type:e.PropTypes.string,value:e.PropTypes.string,placeholder:e.PropTypes.string},G.defaultProps={value:""},G.contextTypes={formGroup:e.PropTypes.instanceOf(C)},t.getElementValue=h,t.getInitialFormState=a,t.validateValue=u,t.RequiredValidator=y,t.MinLengthValidator=d,t.MaxLengthValidator=g,t.PatternValidator=v,t.CustomValidator=T,t.Validator=P,t.Checkbox=x,t.CheckboxGroup=b,t.Form=E,t.FormGroup=C,t.Input=_,t.RadioGroup=N,t.Select=O,t.TextArea=G,Object.defineProperty(t,"__esModule",{value:!0})});