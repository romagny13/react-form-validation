!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactFormValidation=t(require("react")):e.ReactFormValidation=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="/",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);Object.defineProperty(t,"formHasError",{enumerable:!0,get:function(){return n.formHasError}}),Object.defineProperty(t,"getElementValue",{enumerable:!0,get:function(){return n.getElementValue}}),Object.defineProperty(t,"getInitialFormState",{enumerable:!0,get:function(){return n.getInitialFormState}}),Object.defineProperty(t,"validateValue",{enumerable:!0,get:function(){return n.validateValue}});var o=r(2);Object.defineProperty(t,"RequiredValidator",{enumerable:!0,get:function(){return o.RequiredValidator}}),Object.defineProperty(t,"MinLengthValidator",{enumerable:!0,get:function(){return o.MinLengthValidator}}),Object.defineProperty(t,"MaxLengthValidator",{enumerable:!0,get:function(){return o.MaxLengthValidator}}),Object.defineProperty(t,"PatternValidator",{enumerable:!0,get:function(){return o.PatternValidator}}),Object.defineProperty(t,"CustomValidator",{enumerable:!0,get:function(){return o.CustomValidator}}),Object.defineProperty(t,"Validator",{enumerable:!0,get:function(){return o.Validator}});var a=r(3);Object.defineProperty(t,"FormComponent",{enumerable:!0,get:function(){return a.FormComponent}})},function(e,t){"use strict";function r(e){return"undefined"==typeof e}function n(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function a(e){return"number"==typeof e}function i(e){return"boolean"==typeof e}function u(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]={hasError:!1,errors:{}});return t}function f(e){var t=e.tagName;return"INPUT"===t?"checkbox"===e.type?"on"!==e.value?e.value:e.checked:e.value:"TEXTAREA"===t?e.value:"SELECT"===t?e.options[e.selectedIndex].value:void 0}function s(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(r.hasError)return!0}return!1}function l(e,t){var r={};for(var n in e)t.indexOf(n)==-1&&(r[n]=e[n]);return r}function c(e,t){var r={hasError:!1,errors:{}};return t.forEach(function(t){t.validate(e)||(r.hasError=!0,r.errors[t.name]=t.name)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=r,t.isDefined=n,t.isString=o,t.isNumber=a,t.isBoolean=i,t.getInitialFormState=u,t.getElementValue=f,t.formHasError=s,t.omit=l,t.validateValue=c;t.isArray=Array.isArray},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=t.CustomValidator=t.PatternValidator=t.MaxLengthValidator=t.MinLengthValidator=t.RequiredValidator=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),i=t.RequiredValidator=function(){function e(){n(this,e),this.name="required"}return o(e,[{key:"validate",value:function(e){return!(null===e||(0,a.isUndefined)(e)||""===e||(0,a.isBoolean)(e)&&e===!1)}}]),e}(),u=t.MinLengthValidator=function(){function e(t){n(this,e),this.name="minLength",this.minLength=(0,a.isNumber)(t)?t:3}return o(e,[{key:"validate",value:function(e){return!(e&&e.length<this.minLength)}}]),e}(),f=t.MaxLengthValidator=function(){function e(t){n(this,e),this.name="maxLength",this.maxLength=(0,a.isNumber)(t)?t:30}return o(e,[{key:"validate",value:function(e){return!(e&&e.length>this.maxLength)}}]),e}(),s=t.PatternValidator=function(){function e(t){n(this,e),this.name="pattern",this.pattern=t}return o(e,[{key:"validate",value:function(e){return!((0,a.isDefined)(e)&&!this.pattern.test(e))}}]),e}(),l=t.CustomValidator=function(){function e(t,r){n(this,e),this.name=r?r:"custom",this.fn=t}return o(e,[{key:"validate",value:function(e){return!!this.fn(e)}}]),e}(),c=function(){function e(){n(this,e)}return o(e,null,[{key:"required",value:function(){return new i}},{key:"minLength",value:function(e){return new u(e)}},{key:"maxLength",value:function(e){return new f(e)}},{key:"pattern",value:function(e){return new s(e)}},{key:"custom",value:function(e,t){return new l(e,t)}}]),e}();t.Validator=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FormComponent=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(4),l=n(s),c=(r(2),r(1)),d=t.FormComponent=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.propsToAdd=(0,c.omit)(r.props,["formConfig","onStateChange","onSubmit","children"]),r.state={formConfig:e.formConfig,formStates:(0,c.getInitialFormState)(e.formConfig),hasError:!1,submitted:!1},r.onSubmit=r.onSubmit.bind(r),r.onChange=r.onChange.bind(r),r}return i(t,e),f(t,[{key:"validate",value:function(e,t){var r=this.state.formConfig[e];if(r)return(0,c.validateValue)(t,r)}},{key:"onChange",value:function(e){if(this.canValidate){var t=e.target.name,r=(0,c.getElementValue)(e.target),n=this.state.formStates;if(n[t]){var o=n[t].hasError,a=n[t].errors[Object.keys(n[t].errors)[0]],i=this.validate(t,r);i&&(n[t].hasError=i.hasError,n[t].errors=i.errors);var u=(0,c.formHasError)(n);this.setState({formStates:n,hasError:u}),i.hasError===o&&i.errors[0]===a||this.props.onStateChange(u,n)}}}},{key:"onSubmit",value:function(e){e.preventDefault();for(var t=e.target,r=!1,n=this.state.formStates,o=0;o<t.elements.length;o++){var a=t.elements[o];if("submit"!==a.type){var i=a.name,u=(0,c.getElementValue)(a),f=this.validate(i,u);f&&(n[i].hasError=f.hasError,n[i].errors=f.errors),f&&f.hasError&&(r=!0)}}this.setState({formStates:n,hasError:r,submitted:!0}),this.props.onSubmit(r,n)}},{key:"render",value:function(){return l.default.createElement("form",u({onSubmit:this.onSubmit,onChange:this.onChange},this.propsToAdd),this.props.children)}},{key:"canValidate",get:function(){return this.state.submitted}}]),t}(l.default.Component);d.propTypes={children:s.PropTypes.array.isRequired,formConfig:s.PropTypes.object.isRequired,onStateChange:s.PropTypes.func.isRequired,onSubmit:s.PropTypes.func.isRequired}},function(t,r){t.exports=e}])});