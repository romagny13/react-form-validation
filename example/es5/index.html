<!DOCTYPE html>
<html>

<head>
    <title>React Form Validation</title>
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css">
    <style>

    </style>
</head>

<body>
    <div id="app"></div>
    <script src="../../dist/react-form-validation.min.js"></script>
    <script type="text/babel">
        var Form = ReactFormValidation.Form; 
        var FormGroup = ReactFormValidation.FormGroup; 
        var Input = ReactFormValidation.Input; 
        var Validator = ReactFormValidation.Validator;

        var Home = React.createClass({ 
            getInitialState: function (){
                return {
                    validators:{
                        'firstname': [Validator.required(), Validator.minLength(3)]
                    },
                    user:{
                        firstname:'Marie'
                    }
                };
            },
            onSubmit: function (hasError, formStates, formModel) {
                if (!hasError) {
                    var user = {
                        firstname:formModel['firstname']
                    };
                    console.log('save user', user);
                }
             },
            render() {
                return(
                    <Form className="form-group" onSubmit={this.onSubmit}>
                         <FormGroup className="form-group" validators={this.state.validators['firstname']}>
                            <label htmlFor="firstname">Firstname:</label>
                            <Input id="firstname" name="firstname" value={this.state.user.firstname} className="form-control" />
                         </FormGroup>
                         <input className="btn btn-default" type="submit" value="Submit" />
                    </Form>
                );
            }
        });

        ReactDOM.render(<div className="container"><h2>Form validation with es5</h2><Home /></div>, document.getElementById('app'));
    </script>
</body>

</html>